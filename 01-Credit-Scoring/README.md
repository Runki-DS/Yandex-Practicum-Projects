# Проект: Исследование надёжности заёмщиков

## Описание проекта
Заказчик — кредитный отдел банка. Нужно разобраться, влияет ли семейное положение и количество детей клиента на факт погашения кредита в срок. Входные данные от банка — статистика о платёжеспособности клиентов.
  
Результаты исследования будут учтены при построении модели кредитного скоринга — специальной системы, которая оценивает способность потенциального заёмщика вернуть кредит банку.

## Описание данных
 - **children** — количество детей в семье
 - **days_employed** — общий трудовой стаж в днях
 - **dob_years** — возраст клиента в годах
 - **education** — уровень образования клиента
 - **education_id** — идентификатор уровня образования
 - **family_status** — семейное положение
 - **family_status_id** — идентификатор семейного положения
 - **gender** — пол клиента
 - **income_type** — тип занятости
 - **debt** — имел ли задолженность по возврату кредитов
 - **total_income** — ежемесячный доход
 - **purpose** — цель получения кредита

## Общий вывод
Для улучшения системы скоринга, мы проанализировали базу информации о заемщиках, изучив разные параметры заемщиков.

### Предобработка данных
В ходе предобработки данных были выявлены следующие аномалии:
 - одинаковое количество пропусков (2174) в колонках days_employed (трудовой стаж) и total_income (размер дохода). При этом данные из этих  - колонок могут быть взаимозависимыми
 - отрицательные значения трудового стажа
 - аномальные значения трудового стажа
 - аномальные значения доходов у заемщиков не осуществляющих трудовую деятельность
 - отрицательные значения количества детей
 - 71 дублирующаяся строка
Эти аномалии могли быть вызваны как человеческимм фактором, так и техническими причинами.

Для исправления аномалий приняты следующие меры:
 - Для исправления пропусков данных в колонке с доходами заемщиков, и в колонке с трудовым стажем, пропуски заполнены медианными значениями, как наиболее оптимальными в данном случае.
 - Для исправления отрицательных значений трудового стажа, они были переведены в положительные значения.
 - Аномальные значения трудового стажа не иправлялись, так как невозможно установить их причину. Кроме того, эти данные не используются в проверке гипотез, а значит допустимо их оставить неизменными.
 - Аномальные значения доходов у заемщиков не осуществляющих трудовую детяельность не исправлялсь, так как невозможно установить их причину, тем более что причины могут быть естественными.
 - Отрицательные значения количества детей исправлены на положительные.
 - Дубликаты удалены, как несущественные.
 - Кроме того, для упрощения оценки, была сгруппирована по категориям информация о целях займа и выделены зарплатные когорты.

### Цели проекта и результаты
Для проверки гипотез были расчитаны:
 - количество заемщиков в проверяемых когортах
 - % должников с просрочкой в когорте
 - относительное количество заемщиков в когорте по отношению к общей массе заемщиков
**Гипотеза № 1**: Есть ли зависимость между количеством детей и возвратом кредита в срок?
При проверке гипотезы были исключены из общей оценки данные по заемщикам у кого 5 и 4 детей, так как их количество в общей массе незначительное: 5 детей - 0,04% от общей массы, 4 детей - 0,19% от общей массы. Далее установлено, что при анализе, оставшихся когорт разница между соседними когортами является незначительной: между когортой 1 и 2 ребенка разница в % должников с просрочкой составляет 0,22%, между когортой 2 и 3 ребенка разница в % должников с просрочкой составляет 1,27%. Самая большая разница между корортой без детей и когортами с 1, 2 и 3 детьми: 1.69%, 1.91% и 0,64%. Но % должников с просрочкой в когорте с 3 детьми в приниципе выбивается из общей массы когорт с любым количеством детей. Поэтому правильнее говорить что есть зависимость не столько между количеством детей и возвратом кредита в срок, сколько между самим фактом наличия детей у заемщика и возвратом кредлита в срок, так как самый низкий процент должников с просрочкой именно в к когорте без детей.

**Общий вывод по гипотезе № 1**: Прямой зависимости между количеством детей и возвратом кредита в срок нет, но есть зависимость между наличием детей у заемщика (не зависимо от количества) и возвратом кредита в срок.

**Гипотеза № 2**: Есть ли зависимость между семейным положением и возвратом кредита в срок?
При проверке гипотезы все выборки по когортам признаны репрезентативными. При этом выявлена закономерность: самыененадежные заемщики, чаще всего допускающие просрочки это неженатые/незамужние заемщики и заемщики в гражданском браке: 9.76% и 9,31% должников с просрочкой в когорте. При этом по остальным когортам % должников значительно ниже: 7,56% должников с просрочкой среди официально женатых/замужних, 7,06% должников с просрочкой среди разведенных и 6,62% должников с просрочкой среди вдовцов. Таким образом, нет прямой зависисомти между семейным положением и возвратом кредита в срок, но прослеживается закономерность по возврату кредита в срок, между теми кто даже в прошлом был в официальном браке и теми кто ни разу в официальном браке не был.

**Общий вывод по гипотезе № 2**: Прямой зависимости между семейным положением и возвратом кредита в срок нет, но есть зависимость между заемщиками, кто находится или ранее находился в официальном браке - они более ответственно относятся к своим обязательствам, и заемщиками, кто ни разу не был в официальных отношениях - они чаще допускают просрочки.

**Гипотеза № 3**: Есть ли зависимость между уровнем дохода и возвратом кредита в срок?
При проверке гипотезы, установлено, что заемщики категории А (более 1 млн доход) и E (0 - 30000 доход) очень слабо представлены в выборке: доля каждой категоии составляет 0,1% поэтому использование их для оценки целесообразно по причине нерепрезентативности результата. И это нормальная ситуация, потому что такие доходы сами по себе являются крайне редкими, а скоринг должен ориентироваться в первую очередь на наиболее представленные среди заещиков категории. Из остальных трех категорий, самыми дисциплинированными плательщиками, допускающими просрочки реже всего, явлеются заещики из категори D, то есть с уровнем дохода 30001-50000 рублей, доля просрочек среди заемщиков этой категрии составляет 6,01%. Заемщики из следующей категори С, то есть с уровнем дохода 50001–200000 рублей, являются наименее дисциплированными, доля просрочек в этой категории составляет 8,49%. Таким образом прямой линейной зависимости дисциплинированности заемщиков от уровня дохода нет, но в целом надежность заемщиков зависит от определенных категорий уровня доходов.

**Общий вывод по гипотезе № 3**: Прямой линейной зависимости между уровнем доходов и возвратом кредита в срок нет, но есть зависимость срока возврата кредита в срок от определенных категорий доходов заемщиков.

**Гипотеза № 4**: Как разные цели кредита влияют на его возврат в срок?
При проверке гипотезы установлено, что все группы после корректировки дают репрезентативные значения, пригодные для анализа. При этом видим, что действительно разные цели влияют на количество просрочек:
 - наименее дисциплинированными являются заемщики, берущие займ на разные операции с автотранспортом. Процент просрочек в этой категории составляет 9,34%.
 - лучше, но ненамного обсточит ситуация с займами на получение образования. Процент просрочек в этой категории составляет 9,25%.
наиболее дисциплинированными являются заемщики, берущими займ на разные операции с недвижимостью. Процент просрочек в этой категории составляет 7,25%.
 - немного хуже обсточит ситуация с заемщиками, берущими займ на проведение свадьбы. Проент просрочек в этой категории составляет 7,91%.
Возможно здесь есть еще зависимость от возраста заемщика, но это требует отдельного исследования и сопоставления данных. В целом гипотеза подтверждается полностью - цель кредитования дейтствительно влияет на частоту нарушений срока возврата займа.

**Общий вывод по гипотезе № 4**: Гипотеза полностью подтверждается - разные цели кредита действительно влияют на его срок возврата.

## Рекомендации
По результатам проведенной работы можно дать следующие рекомендации:
 - Из-за того, что в исходных данных обнаружены аномалии, которые могут свидетельствовать, как о технических, так и о человеческих ошибках, необходимо пересмотреть и проанализировать процесс формирования базы данных от первичного заполнения данных до формирования CSV файла с данными. Задачи:
   - установить причину пропусков взаимозависимых данных
   - установить причину аномальных значений трудового стажа
   - установить, почему значения трудового стажа указываются в качестве отрицательных значений
   - установить, каким образом и на основании чего указывается доход безработных и пенсионеров  
   - установить, почему в количестве детей указываются отрицательные значения
 - Необходимо модернизировать систему сбора информации о заемщиках:
   - вместо ручного ввода информации о целях займа предусмотреть выбор из заранее предложенных вариантов, это позволит упростить аналитику полученных данных и автоматизировать определени скорингового балла на основе этих данных
   - автоматически присваивать категорию доходов в зависимости от указываемых сведений
   - предусмотреть автоматическое установление значений по умолчанию, для ситуация, когда отсутсвие данных нормально: отсутствие работы, отсутствие трудового стажа, отсутствие дохода и т.п.
   - ввести категоризацию заемщиков по семейному статусу, в зависимости от того оформлялись, даже ранее, брачные отношения официально.
 - При формировании скорингового балла, в качестве критериев оценки использовать следующие данные, влияющие на возврат кредита в срок:
   - наличие детей у заемщика (не зависимо от количества)
   - были ли, даже ранее, официально оформлены семейные отношений у заемщика с супругом/супругой
   - цель займа
   - когорта доходов заемщиков
В результате данных рекомендаций можно будет автоматизировать и повысить эффективность скоринговой оценки заемщиков.
